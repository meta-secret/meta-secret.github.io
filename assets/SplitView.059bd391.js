import{b as M,Q as L,_ as W,o as N,c as V,a as b,F as D}from"./index.ffc38a90.js";let i;const F=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});F.decode();let O;function A(){return O.byteLength===0&&(O=new Uint8Array(i.memory.buffer)),O}function y(e,t){return F.decode(A().subarray(e,e+t))}const p=new Array(32).fill(void 0);p.push(void 0,null,!0,!1);let S=p.length;function s(e){S===p.length&&p.push(p.length+1);const t=S;return S=p[t],p[t]=e,t}function c(e){return p[e]}let w=0;const x=new TextEncoder("utf-8"),$=typeof x.encodeInto=="function"?function(e,t){return x.encodeInto(e,t)}:function(e,t){const n=x.encode(e);return t.set(n),{read:e.length,written:n.length}};function v(e,t,n){if(n===void 0){const f=x.encode(e),l=t(f.length);return A().subarray(l,l+f.length).set(f),w=f.length,l}let r=e.length,o=t(r);const a=A();let _=0;for(;_<r;_++){const f=e.charCodeAt(_);if(f>127)break;a[o+_]=f}if(_!==r){_!==0&&(e=e.slice(_)),o=n(o,r,r=_+e.length*3);const f=A().subarray(o+_,o+r);_+=$(e,f).written}return w=_,o}function E(e){return e==null}let k;function u(){return k.byteLength===0&&(k=new Int32Array(i.memory.buffer)),k}function H(e){e<36||(p[e]=S,S=e)}function m(e){const t=c(e);return H(e),t}let C;function z(){return C.byteLength===0&&(C=new Float64Array(i.memory.buffer)),C}function U(e){const t=typeof e;if(t=="number"||t=="boolean"||e==null)return`${e}`;if(t=="string")return`"${e}"`;if(t=="symbol"){const o=e.description;return o==null?"Symbol":`Symbol(${o})`}if(t=="function"){const o=e.name;return typeof o=="string"&&o.length>0?`Function(${o})`:"Function"}if(Array.isArray(e)){const o=e.length;let a="[";o>0&&(a+=U(e[0]));for(let _=1;_<o;_++)a+=", "+U(e[_]);return a+="]",a}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(n.length>1)r=n[1];else return toString.call(e);if(r=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:r}function J(e){const t=v(e,i.__wbindgen_malloc,i.__wbindgen_realloc),n=w,r=i.split(t,n);return m(r)}function h(e,t){if(!(e instanceof t))throw new Error(`expected instance of ${t.name}`);return e.ptr}const Q=new Uint32Array(2);new BigUint64Array(Q.buffer);function j(e,t){return A().subarray(e/1,e/1+t)}let T;function P(){return T.byteLength===0&&(T=new Uint32Array(i.memory.buffer)),T}function q(e,t){const n=t(e.length*4),r=P();for(let o=0;o<e.length;o++)r[n/4+o]=s(e[o]);return w=e.length,n}function g(e,t){try{return e.apply(this,t)}catch(n){i.__wbindgen_exn_store(s(n))}}class I{static __wrap(t){const n=Object.create(I.prototype);return n.ptr=t,n}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();i.__wbg_instruction_free(t)}}class d{static __wrap(t){const n=Object.create(d.prototype);return n.ptr=t,n}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();i.__wbg_pubkey_free(t)}constructor(t){try{const a=i.__wbindgen_add_to_stack_pointer(-16);i.pubkey_constructor(a,s(t));var n=u()[a/4+0],r=u()[a/4+1],o=u()[a/4+2];if(o)throw m(r);return d.__wrap(n)}finally{i.__wbindgen_add_to_stack_pointer(16)}}toString(){try{const r=i.__wbindgen_add_to_stack_pointer(-16);i.pubkey_toString(r,this.ptr);var t=u()[r/4+0],n=u()[r/4+1];return y(t,n)}finally{i.__wbindgen_add_to_stack_pointer(16),i.__wbindgen_free(t,n)}}isOnCurve(){return i.pubkey_isOnCurve(this.ptr)!==0}equals(t){return h(t,d),i.pubkey_equals(this.ptr,t.ptr)!==0}toBytes(){try{const o=i.__wbindgen_add_to_stack_pointer(-16);i.pubkey_toBytes(o,this.ptr);var t=u()[o/4+0],n=u()[o/4+1],r=j(t,n).slice();return i.__wbindgen_free(t,n*1),r}finally{i.__wbindgen_add_to_stack_pointer(16)}}static createWithSeed(t,n,r){try{const f=i.__wbindgen_add_to_stack_pointer(-16);h(t,d);const l=v(n,i.__wbindgen_malloc,i.__wbindgen_realloc),B=w;h(r,d),i.pubkey_createWithSeed(f,t.ptr,l,B,r.ptr);var o=u()[f/4+0],a=u()[f/4+1],_=u()[f/4+2];if(_)throw m(a);return d.__wrap(o)}finally{i.__wbindgen_add_to_stack_pointer(16)}}static createProgramAddress(t,n){try{const _=i.__wbindgen_add_to_stack_pointer(-16),f=q(t,i.__wbindgen_malloc),l=w;h(n,d),i.pubkey_createProgramAddress(_,f,l,n.ptr);var r=u()[_/4+0],o=u()[_/4+1],a=u()[_/4+2];if(a)throw m(o);return d.__wrap(r)}finally{i.__wbindgen_add_to_stack_pointer(16)}}static findProgramAddress(t,n){try{const _=i.__wbindgen_add_to_stack_pointer(-16),f=q(t,i.__wbindgen_malloc),l=w;h(n,d),i.pubkey_findProgramAddress(_,f,l,n.ptr);var r=u()[_/4+0],o=u()[_/4+1],a=u()[_/4+2];if(a)throw m(o);return m(r)}finally{i.__wbindgen_add_to_stack_pointer(16)}}}async function G(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function K(){const e={};return e.wbg={},e.wbg.__wbindgen_json_parse=function(t,n){const r=JSON.parse(y(t,n));return s(r)},e.wbg.__wbg_instruction_new=function(t){const n=I.__wrap(t);return s(n)},e.wbg.__wbg_pubkey_new=function(t){const n=d.__wrap(t);return s(n)},e.wbg.__wbindgen_string_get=function(t,n){const r=c(n),o=typeof r=="string"?r:void 0;var a=E(o)?0:v(o,i.__wbindgen_malloc,i.__wbindgen_realloc),_=w;u()[t/4+1]=_,u()[t/4+0]=a},e.wbg.__wbindgen_object_drop_ref=function(t){m(t)},e.wbg.__wbindgen_is_undefined=function(t){return c(t)===void 0},e.wbg.__wbindgen_string_new=function(t,n){const r=y(t,n);return s(r)},e.wbg.__wbindgen_number_get=function(t,n){const r=c(n),o=typeof r=="number"?r:void 0;z()[t/8+1]=E(o)?0:o,u()[t/4+0]=!E(o)},e.wbg.__wbindgen_number_new=function(t){return s(t)},e.wbg.__wbg_debug_68178c61250ae699=function(t){console.debug(c(t))},e.wbg.__wbg_error_e2677af4c7f31a14=function(t){console.error(c(t))},e.wbg.__wbg_info_2fe3b57d78190c6d=function(t){console.info(c(t))},e.wbg.__wbg_log_7761a8b8a8c1864e=function(t){console.log(c(t))},e.wbg.__wbg_warn_8b29c6b80217b0e4=function(t){console.warn(c(t))},e.wbg.__wbg_new_693216e109162396=function(){const t=new Error;return s(t)},e.wbg.__wbg_stack_0ddaca5d1abfb52f=function(t,n){const r=c(n).stack,o=v(r,i.__wbindgen_malloc,i.__wbindgen_realloc),a=w;u()[t/4+1]=a,u()[t/4+0]=o},e.wbg.__wbg_error_09919627ac0992f5=function(t,n){try{console.error(y(t,n))}finally{i.__wbindgen_free(t,n)}},e.wbg.__wbg_self_86b4b13392c7af56=function(){return g(function(){const t=self.self;return s(t)},arguments)},e.wbg.__wbg_crypto_b8c92eaac23d0d80=function(t){const n=c(t).crypto;return s(n)},e.wbg.__wbg_msCrypto_9ad6677321a08dd8=function(t){const n=c(t).msCrypto;return s(n)},e.wbg.__wbg_static_accessor_MODULE_452b4680e8614c81=function(){const t=module;return s(t)},e.wbg.__wbg_require_f5521a5b85ad2542=function(t,n,r){const o=c(t).require(y(n,r));return s(o)},e.wbg.__wbg_getRandomValues_dd27e6b0652b3236=function(t){const n=c(t).getRandomValues;return s(n)},e.wbg.__wbg_getRandomValues_e57c9b75ddead065=function(t,n){c(t).getRandomValues(c(n))},e.wbg.__wbg_randomFillSync_d2ba53160aec6aba=function(t,n,r){c(t).randomFillSync(j(n,r))},e.wbg.__wbg_process_e56fd54cf6319b6c=function(t){const n=c(t).process;return s(n)},e.wbg.__wbindgen_is_object=function(t){const n=c(t);return typeof n=="object"&&n!==null},e.wbg.__wbg_versions_77e21455908dad33=function(t){const n=c(t).versions;return s(n)},e.wbg.__wbg_node_0dd25d832e4785d5=function(t){const n=c(t).node;return s(n)},e.wbg.__wbindgen_is_string=function(t){return typeof c(t)=="string"},e.wbg.__wbg_static_accessor_NODE_MODULE_26b231378c1be7dd=function(){const t=module;return s(t)},e.wbg.__wbg_require_0db1598d9ccecb30=function(){return g(function(t,n,r){const o=c(t).require(y(n,r));return s(o)},arguments)},e.wbg.__wbg_crypto_b95d7173266618a9=function(t){const n=c(t).crypto;return s(n)},e.wbg.__wbg_msCrypto_5a86d77a66230f81=function(t){const n=c(t).msCrypto;return s(n)},e.wbg.__wbg_getRandomValues_b14734aa289bc356=function(){return g(function(t,n){c(t).getRandomValues(c(n))},arguments)},e.wbg.__wbg_randomFillSync_91e2b39becca6147=function(){return g(function(t,n,r){c(t).randomFillSync(j(n,r))},arguments)},e.wbg.__wbg_new_2ab697f1555e0dbc=function(){const t=new Array;return s(t)},e.wbg.__wbindgen_is_function=function(t){return typeof c(t)=="function"},e.wbg.__wbg_newnoargs_fc5356289219b93b=function(t,n){const r=new Function(y(t,n));return s(r)},e.wbg.__wbg_next_0e1ee6203bc0f8ed=function(t){const n=c(t).next;return s(n)},e.wbg.__wbg_next_9ef803116340cdc1=function(){return g(function(t){const n=c(t).next();return s(n)},arguments)},e.wbg.__wbg_done_2a1e30464aae6a4d=function(t){return c(t).done},e.wbg.__wbg_value_a495c29471c31da6=function(t){const n=c(t).value;return s(n)},e.wbg.__wbg_iterator_6ac6eb1e020f18e3=function(){return s(Symbol.iterator)},e.wbg.__wbg_get_89247d3aeaa38cc5=function(){return g(function(t,n){const r=Reflect.get(c(t),c(n));return s(r)},arguments)},e.wbg.__wbg_call_4573f605ca4b5f10=function(){return g(function(t,n){const r=c(t).call(c(n));return s(r)},arguments)},e.wbg.__wbindgen_object_clone_ref=function(t){const n=c(t);return s(n)},e.wbg.__wbg_self_ba1ddafe9ea7a3a2=function(){return g(function(){const t=self.self;return s(t)},arguments)},e.wbg.__wbg_window_be3cc430364fd32c=function(){return g(function(){const t=window.window;return s(t)},arguments)},e.wbg.__wbg_globalThis_56d9c9f814daeeee=function(){return g(function(){const t=globalThis.globalThis;return s(t)},arguments)},e.wbg.__wbg_global_8c35aeee4ac77f2b=function(){return g(function(){const t=global.global;return s(t)},arguments)},e.wbg.__wbg_newwithlength_51bd08aed34ec6a3=function(t){const n=new Array(t>>>0);return s(n)},e.wbg.__wbg_set_c1d04f8b45a036e7=function(t,n,r){c(t)[n>>>0]=m(r)},e.wbg.__wbg_isArray_628aca8c24017cde=function(t){return Array.isArray(c(t))},e.wbg.__wbg_push_811c8b08bf4ff9d5=function(t,n){return c(t).push(c(n))},e.wbg.__wbg_values_644ed6c9e45c1e38=function(t){const n=c(t).values();return s(n)},e.wbg.__wbg_buffer_de1150f91b23aa89=function(t){const n=c(t).buffer;return s(n)},e.wbg.__wbg_new_97cf52648830a70d=function(t){const n=new Uint8Array(c(t));return s(n)},e.wbg.__wbg_set_a0172b213e2469e9=function(t,n,r){c(t).set(c(n),r>>>0)},e.wbg.__wbg_length_e09c0b925ab8de5d=function(t){return c(t).length},e.wbg.__wbg_instanceof_Uint8Array_fd17ec67c77de602=function(t){return c(t)instanceof Uint8Array},e.wbg.__wbg_newwithlength_e833b89f9db02732=function(t){const n=new Uint8Array(t>>>0);return s(n)},e.wbg.__wbg_subarray_9482ae5cd5cd99d3=function(t,n,r){const o=c(t).subarray(n>>>0,r>>>0);return s(o)},e.wbg.__wbindgen_debug_string=function(t,n){const r=U(c(n)),o=v(r,i.__wbindgen_malloc,i.__wbindgen_realloc),a=w;u()[t/4+1]=a,u()[t/4+0]=o},e.wbg.__wbindgen_throw=function(t,n){throw new Error(y(t,n))},e.wbg.__wbindgen_memory=function(){const t=i.memory;return s(t)},e}function X(e,t){return i=e.exports,R.__wbindgen_wasm_module=t,C=new Float64Array(i.memory.buffer),k=new Int32Array(i.memory.buffer),T=new Uint32Array(i.memory.buffer),O=new Uint8Array(i.memory.buffer),i}async function R(e){typeof e>"u"&&(e=new URL("/assets/meta_secret_web_cli_bg.90f21cb3.wasm",self.location));const t=K();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await G(await e,t);return X(n,r)}const Y={methods:{splitPassword(){R().then(()=>{let e=document.getElementById("password").value;console.log("Split password: ",e);let t=document.getElementById("qr-images");for(;t.firstChild;)t.removeChild(t.firstChild);let n=J(e);this.sharesProcessing(n,t)})},sharesProcessing:function(e,t){e.forEach(n=>{let r=document.createElement("canvas");t.appendChild(r);let o="share: "+n.share_id,a=document.getElementById("note1").value,_=document.getElementById("note2").value,f=this.textToImage(a,_,o);this.generateQrCodeStyling(JSON.stringify(n),f).append(t)})},generateQrCode(e,t){M.toCanvas(e,JSON.stringify(t),{errorCorrectionLevel:"H"},function(n){n&&console.error(n),console.log("success!")})},textToImage(e,t,n){let r=document.createElement("canvas");r.width=600,r.height=600;let o=r.getContext("2d");return o.font="100px Arial",o.fillText(e,50,150),o.fillText(t,50,300),o.fillText(n,50,450),r.toDataURL()},generateQrCodeStyling(e,t){return new L({width:600,height:600,data:e,margin:3,qrOptions:{typeNumber:"0",mode:"Byte",errorCorrectionLevel:"H"},imageOptions:{hideBackgroundDots:!0,imageSize:.2,margin:1},dotsOptions:{type:"dots",color:"#000000",gradient:null},backgroundOptions:{color:"#ffffff"},image:t,dotsOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#6a1a4c",color2:"#6a1a4c",rotation:"0"}},cornersSquareOptions:{type:"square",color:"#000000",gradient:{type:"linear",rotation:0,colorStops:[{offset:0,color:"#000000"},{offset:1,color:"#8d8b8b"}]}},cornersSquareOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},cornersDotOptions:{type:"",color:"#000000"},cornersDotOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},backgroundOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#ffffff",color2:"#ffffff",rotation:"0"}}})}}},Z={class:"container"},tt=b("div",null,[b("label",{for:"note1"},"Note1:"),b("input",{type:"text",id:"note1",value:"",max:"10",size:"10"})],-1),et=b("div",null,[b("label",{for:"note2"},"Note2:"),b("input",{type:"text",id:"note2",value:"",max:"10",size:"10"})],-1),nt=b("label",{for:"password"},"password:",-1),rt=b("input",{type:"text",id:"password",value:"top$ecret",size:"150"},null,-1),ot=b("div",{id:"shares"},null,-1),ct=b("div",{id:"qr-images"},null,-1);function it(e,t){return N(),V(D,null,[b("div",Z,[tt,et,b("div",null,[nt,rt,b("input",{type:"button",id:"splitButton",value:"split",onClick:t[0]||(t[0]=(...n)=>e.splitPassword&&e.splitPassword(...n))})])]),ot,ct],64)}const _t=W(Y,[["render",it]]);export{_t as default};
